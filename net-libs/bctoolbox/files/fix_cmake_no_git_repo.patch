--- a/cmake/BcToolboxCMakeUtils.cmake	2018-05-31 15:56:53.069696487 +0200
+++ b/cmake/BcToolboxCMakeUtils.cmake	2018-05-31 15:58:38.439696085 +0200
@@ -38,15 +38,24 @@
 endmacro()
 
 macro(bc_git_version PROJECT_NAME PROJECT_VERSION)
-	find_package(Git)
-	add_custom_target(${PROJECT_NAME}-git-version
-		COMMAND ${CMAKE_COMMAND} -DGIT_EXECUTABLE=${GIT_EXECUTABLE} -DPROJECT_NAME=${PROJECT_NAME} -DPROJECT_VERSION=${PROJECT_VERSION} -DWORK_DIR=${CMAKE_CURRENT_SOURCE_DIR} -DTEMPLATE_DIR=${BCTOOLBOX_CMAKE_UTILS_DIR} -DOUTPUT_DIR=${CMAKE_CURRENT_BINARY_DIR} -P ${BCTOOLBOX_CMAKE_UTILS_DIR}/BcGitVersion.cmake
-		BYPRODUCTS "${CMAKE_CURRENT_BINARY_DIR}/gitversion.h"
-	)
+	if (EXISTS ${CMAKE_CURRENT_SOURCE_DIR}/.git)
+		find_package(Git)
+		add_custom_target(${PROJECT_NAME}-git-version
+			COMMAND ${CMAKE_COMMAND} -DGIT_EXECUTABLE=${GIT_EXECUTABLE} -DPROJECT_NAME=${PROJECT_NAME} -DPROJECT_VERSION=${PROJECT_VERSION} -DWORK_DIR=${CMAKE_CURRENT_SOURCE_DIR} -DTEMPLATE_DIR=${BCTOOLBOX_CMAKE_UTILS_DIR} -DOUTPUT_DIR=${CMAKE_CURRENT_BINARY_DIR} -P ${BCTOOLBOX_CMAKE_UTILS_DIR}/BcGitVersion.cmake
+			BYPRODUCTS "${CMAKE_CURRENT_BINARY_DIR}/gitversion.h"
+		)
+	else()
+		add_custom_target(${PROJECT_NAME}-git-version)
+		string(TOUPPER "${PROJECT_NAME}" PREFIX_GIT_VERSION)
+		string(REPLACE "-" "_" PREFIX_GIT_VERSION "${PREFIX_GIT_VERSION}")
+		set(PROJECT_GIT_VERSION "${PROJECT_VERSION}")
+		configure_file("${BCTOOLBOX_CMAKE_UTILS_DIR}/gitversion.h.in" "${CMAKE_CURRENT_BINARY_DIR}/gitversion.h" @ONLY)
+	endif()
 endmacro()
 
 
 macro(bc_project_build_version PROJECT_VERSION PROJECT_BUILD_VERSION) 
+	if (EXISTS ${CMAKE_CURRENT_SOURCE_DIR}/.git)
 	find_program (WC wc)
 
 	if (WC)
@@ -75,6 +84,7 @@
        		         WORKING_DIRECTORY ${PROJECT_SOURCE_DIR}
        		 )
 	endif()
+	endif()
 	if (NOT PROJECT_VERSION_BUILD) 
 		set(PROJECT_VERSION_BUILD 0)
 	endif()
