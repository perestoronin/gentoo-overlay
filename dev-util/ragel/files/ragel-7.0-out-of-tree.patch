--- old/src/Makefile.am	2016-08-02 16:40:21.000000000 +0200
+++ new/src/Makefile.am	2016-09-11 11:31:24.879891631 +0200
@@ -110,7 +110,7 @@
 	ragel-crack.lm
 
 parse.c: rlparse.lm reducer.lm $(RAGEL_LM) $(COLM_BINDEP)
-	$(COLM) -c -b rlparse_object -o $@ -e if.h -x if.cc -m commit.cc $<
+	cd $(dir $<) && $(COLM) -c -b rlparse_object -o $@ -e if.h -x if.cc -m commit.cc $<
 
 if.cc: parse.c
 if.h: parse.c
@@ -149,7 +149,7 @@
 	rlhc-js.lm
 
 rlhc.c: rlhc.lm $(RLHC) $(COLM_BINDEP)
-	$(COLM) -c -b rlhc_object -o $@ $<
+	cd $(dir $<) && $(COLM) -c -b rlhc_object -o $@ $<
 
 if WITH_RAGEL_KELBT
 
