--- old/src/MainFormDlgImpl.cpp	2013-04-24 06:25:47.000000000 +0200
+++ new/src/MainFormDlgImpl.cpp	2016-09-14 12:19:41.210505995 +0200
@@ -119,7 +119,7 @@
         {
             m_strFileName = strFileName;
             ofstream_utf8 out (m_strFileName.c_str(), ios_base::app);
-            return out;
+            return out.is_open();
         }
 
         void close() { m_strFileName.clear(); }
@@ -128,7 +128,7 @@
         {
             ofstream_utf8 out (m_strFileName.c_str(), ios_base::app);
             out << s;
-            return out;
+            return out.good();
         }
     };
 #else // #ifndef WIN32
--- old/src/ExportDlgImpl.cpp	2012-03-04 08:59:08.000000000 +0100
+++ new/src/ExportDlgImpl.cpp	2016-09-14 12:22:27.080504771 +0200
@@ -371,7 +371,7 @@
         out << "\n\n";
     }
 
-    return out;
+    return out.good();
 }
 
 
@@ -424,7 +424,7 @@
         out << pCodec->fromUnicode(qs).constData() << endl;
     }
 
-    return out;
+    return out.good();
 }
 
 
@@ -761,6 +761,6 @@
 
     out << "</files>\n";
 
-    return out;
+    return out.good();
 }
 
